<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Himal Shrestha">
    <title>Log Page</title>

    <!-- Linking External CSS -->
    <link rel="stylesheet" href="home.css">
    
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body>
    <h2>Daily Log</h2>

    <div class="container">
        <!-- Sidebar Navigation -->
        <nav class="sidebar">
            <ul>
                <li><a href="home.html">üè† Home</a></li>
                <li><a href="profile.html">üë§ Profile</a></li>
                <li><a href="log.html">üìù Log</a></li>
                <li><a href="suggestions.html">üí° Suggestions</a></li>
                <li><a href="insight.html">üìä Insight</a></li>
                <li><a href="feed.html">üì∞ Feed</a></li>
            </ul>
        </nav>

        <!-- Main Content -->
        <div class="main-content">
            <h3>Log Your Activity</h3>
            <form id="logForm">
                <label for="date">Date:</label>
                <input type="date" id="date" required>

                <label for="activity">Activity:</label>
                <textarea id="activity" placeholder="Enter your activity details..." required></textarea>
                
                <button type="submit">Save Log</button>
            </form>

            <h3>Previous Logs</h3>
            <ul id="logList">
                <!-- Logged activities will appear here -->
            </ul>
        </div>
    </div>
    
    <button class="logout-btn" onclick="window.location.href='login.html';">Logout</button>

    <!-- JavaScript for handling logs with Local Storage -->
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            let logList = document.getElementById("logList");
            let logs = JSON.parse(localStorage.getItem("logs")) || [];
            
            function renderLogs() {
                logList.innerHTML = "";
                logs.forEach((log, index) => {
                    let listItem = document.createElement("li");
                    listItem.innerHTML = `<strong>${log.date}:</strong> ${log.activity} <button onclick="deleteLog(${index})">‚ùå</button>`;
                    logList.appendChild(listItem);
                });
            }
            
            function saveLog(date, activity) {
                logs.push({ date, activity });
                localStorage.setItem("logs", JSON.stringify(logs));
                renderLogs();
            }
            
            document.getElementById("logForm").addEventListener("submit", function(event) {
                event.preventDefault();
                let date = document.getElementById("date").value;
                let activity = document.getElementById("activity").value;
                if (date && activity) {
                    saveLog(date, activity);
                    document.getElementById("logForm").reset();
                }
            });
            
            window.deleteLog = function(index) {
                logs.splice(index, 1);
                localStorage.setItem("logs", JSON.stringify(logs));
                renderLogs();
            };
            
            renderLogs();
        });
    </script>
</body>
</html>
