<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Vidia - Fasting</title>
  <link rel="stylesheet" href="style.css"/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
 
    
</head>
<body>

    <script src="sidebar.js" defer></script>
  <!-- 🔹 Main Content -->
  <div class="main-content">
    <div class="fasting-tracker">
      <h2>⏳ Intermittent Fasting Tracker</h2>
    
      
      <div class="timer-wrapper">
        <div id="fasting-timer">00h 00m 00s</div>
        <div class="fasting-type-indicator">16:8 Intermittent Fasting</div>
    </div>

    <div class="fasting-stats">
        <div class="stat-card">
            <span class="stat-icon">⭐</span>
            <h4>Total Fasts</h4>
            <p id="total-fasts">0</p>
        </div>
        <div class="stat-card">
            <span class="stat-icon">⏱️</span>
            <h4>Average Duration</h4>
            <p id="avg-duration">0 hrs</p>
        </div>
        <div class="stat-card">
            <span class="stat-icon">🎯</span>
            <h4>Completion Rate</h4>
            <p id="completion-rate">0%</p>
        </div>
    </div>

    <div class="fasting-chart-container">
        <canvas id="fastingChart"></canvas>
    </div>
     
      <!-- Update the fasting window select -->
      <label for="fasting-window">Choose Fasting Schedule:</label>
      <select id="fasting-window">
          <option value="12">12:12 (12 hours fasting, 12 hours eating)</option>
          <option value="14">14:10 (14 hours fasting, 10 hours eating)</option>
          <option value="16">16:8 (16 hours fasting, 8 hours eating)</option>
          <option value="18">18:6 (18 hours fasting, 6 hours eating)</option>
          <option value="20">20:4 (20 hours fasting, 4 hours eating)</option>
          <option value="24">24 Hour Fast</option>
      </select>

  
    

    

      <style>
          .fasting-stats {
              display: grid;
              grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
              gap: 15px;
              margin: 20px 0;
          }

          .stat-card {
              background: #f8f9fa;
              padding: 20px;
              border-radius: 10px;
              text-align: center;
              box-shadow: 0 2px 4px rgba(0,0,0,0.1);
              transition: transform 0.2s;
          }

          .stat-card:hover {
              transform: translateY(-2px);
          }

          .stat-icon {
              font-size: 24px;
              margin-bottom: 10px;
              display: block;
          }

          /* Update existing chart styles */
          .fasting-chart-container {
              background: white;
              padding: 20px;
              border-radius: 10px;
              box-shadow: 0 2px 8px rgba(0,0,0,0.1);
              margin: 20px 0;
              height: 300px;
              min-height: 300px;
          }

          #fastingChart {
              width: 100% !important;
              height: 100% !important;
              min-height: 250px;
          }

          /* Add styles for empty state */
          .fasting-chart-container:empty::after {
              content: "No fasting data available";
              display: flex;
              justify-content: center;
              align-items: center;
              height: 100%;
              color: #666;
              font-style: italic;
          }
      </style>
         
      </style>
      <button id="start-fasting" class="start-btn">🚀 Start Fasting</button>
      <button id="end-fasting" class="end-btn" disabled>⏹ End Fasting</button>
      <button id="download-fasting">📥 Download Fasting History (CSV)</button>


      <p><strong>Status:</strong> <span id="fasting-status">Not Started</span></p>

      <h3>📜 Fasting History</h3>
      <div class="date-filter-container">
          <div class="date-filter-inputs">
              <div class="date-input-group">
                  <label>Start Date</label>
                  <input type="date" id="filter-start-date">
              </div>
              <div class="date-input-group">
                  <label>End Date</label>
                  <input type="date" id="filter-end-date">
              </div>
              <div>
                  <button class="filter-btn">🔍 Filter</button>
                  <button class="reset-filter-btn">↺ Reset</button>
              </div>
          </div>
      </div>

      <div class="history-container">
          
          <ul id="fasting-history" class="fasting-history-list"></ul>
      </div>

      
    </div>
  </div>

  <script type="module" src="firebase-config.js"></script>
  <script type="module" src="fasting.js"></script>
</body>
</html>